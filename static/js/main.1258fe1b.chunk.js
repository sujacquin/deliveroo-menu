(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),s=a.n(i),c=(a(47),a(8)),l=a.n(c),o=a(23),u=a(10),p=a(3),m=a(4),d=a(6),f=a(5),h=a(7),v=(a(50),a(37)),k=a.n(v),b=(a(69),function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement("div",{className:"header"},r.a.createElement("div",null,r.a.createElement("h1",null,this.props.restaurant.name),r.a.createElement("p",null,this.props.restaurant.description)),r.a.createElement("img",{src:this.props.restaurant.picture,alt:"restaurantImage"})))}}]),t}(r.a.Component)),E=(a(70),a(71),a(38)),y=a.n(E),C=a(39),O=a.n(C)()()(y.a),j=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(i)))).renderClass=function(e,t){return r.a.createElement("div",{className:e,onClick:function(){return a.props.addItem({name:a.props.title,price:a.props.price,id:a.props.id})}},r.a.createElement("div",{className:"description"},r.a.createElement("h2",null,a.props.title),r.a.createElement(O,{style:{padding:"0"},className:"description",text:t?"".concat(t,"x ").concat(a.props.desc):a.props.desc,maxLine:2,ellipsis:"...",trimRight:!0,basedOn:"letters"}),r.a.createElement("h2",{style:{color:"#838585"}},a.props.price," \u20ac")),a.renderImage())},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"renderImage",value:function(){if(this.props.img)return r.a.createElement("img",{src:this.props.img,alt:""})}},{key:"renderCard",value:function(){for(var e=0;e<this.props.basket.length;e++)if(this.props.title===this.props.basket[e].name)return r.a.createElement(r.a.Fragment,null,this.renderClass("cardClicked",this.props.basket[e].quantity));return r.a.createElement(r.a.Fragment,null,this.renderClass("card"))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderCard())}}]),t}(r.a.Component),x=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"section",name:this.props.name},r.a.createElement("h1",null,this.props.name),r.a.createElement("div",{className:"cards"},this.props.info.map(function(t,a){return r.a.createElement(j,{key:t.id,title:t.title,desc:t.description,price:t.price,img:t.picture,addItem:e.props.addItem,basket:e.props.basket,info:e.props.info})})))}}]),t}(r.a.Component),g=(a(83),a(84),a(14)),w=a(11),N=a(16);g.b.add(N.c,N.b,N.a);var S=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(i)))).state={delivery:2.5,service:.2,tips:0,isService:!1,isDelivery:!1},a.handleClick=function(){var e=Object(u.a)(l.a.mark(function e(t){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("delivery"!==t){e.next=6;break}return n=!a.state.isDelivery,e.next=4,a.setState({isDelivery:n});case 4:e.next=9;break;case 6:return r=!a.state.isService,e.next=9,a.setState({isService:r});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.addTip=function(){var e=Object(u.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("minus"!==t){e.next=6;break}if(!(a.state.tips>0)){e.next=4;break}return e.next=4,a.setState({tips:a.state.tips-1});case 4:e.next=8;break;case 6:return e.next=8,a.setState({tips:a.state.tips+1});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.renderDeliveryInfo=function(){if(a.state.isDelivery)return r.a.createElement("div",{className:"infomessage"},"Ce montant peut varier en fonction d\u2019\xe9l\xe9ments tels que la distance et la dur\xe9e de livraison.")},a.renderServiceInfo=function(){if(a.state.isService)return r.a.createElement("div",{className:"infomessage"},"Ce montant peut varier en fonction d\u2019\xe9l\xe9ments tels que la distance et la dur\xe9e de livraison.")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"renderBasket",value:function(){var e=this;return 0===this.props.basket.length?r.a.createElement("div",{className:"Basket"},r.a.createElement("button",null," Valider mon panier"),r.a.createElement("span",{className:"empty"}," Votre panier est vide")):r.a.createElement("div",{className:"Basket"},r.a.createElement("button",{className:"full"}," Valider mon panier"),r.a.createElement("div",{className:"container"},this.props.basket.map(function(t,a){return r.a.createElement("span",{className:"item"},r.a.createElement("span",{className:"icon"},r.a.createElement(w.a,{icon:"minus-circle",style:{color:"#00CCBC"},onClick:function(){e.props.handleClick("minus",t.name)}})," ",t.quantity," ",r.a.createElement(w.a,{icon:"plus-circle",style:{color:"#00CCBC"},onClick:function(){e.props.handleClick("plus",t.name)}})),r.a.createElement("span",{style:{alignSelf:"Start"}},t.name),r.a.createElement("span",null,(t.price*t.quantity).toFixed(2),"\u20ac"))}),r.a.createElement("div",{className:"text",style:{color:"#33D6C7"}}," Pr\xe9cisez vos allergies"),r.a.createElement("div",{className:"intermediate"},r.a.createElement("div",null,this.renderDeliveryInfo()),r.a.createElement("div",null,this.renderServiceInfo()),r.a.createElement("div",{className:"text"},r.a.createElement("span",null,"Sous-total")," ",r.a.createElement("span",null,this.props.total.toFixed(2),"\u20ac")),r.a.createElement("div",{className:"text"},r.a.createElement("span",null,"Frais de livraison"),r.a.createElement("span",null,r.a.createElement(w.a,{icon:"info-circle",style:{color:"#ABADAD"},onClick:function(){return e.handleClick("delivery")}}),this.state.delivery.toFixed(2),"\u20ac")),r.a.createElement("div",{className:"text"},r.a.createElement("span",null,"Frais de service"),r.a.createElement("span",null,r.a.createElement(w.a,{icon:"info-circle",style:{color:"#ABADAD"},onClick:function(){return e.handleClick("service")}}),this.state.service.toFixed(2),"\u20ac"))),r.a.createElement("div",{className:"total"},r.a.createElement("div",{className:"text"},r.a.createElement("span",null,"Pourboire livreur"),r.a.createElement("span",null," ",r.a.createElement(w.a,{icon:"minus-circle",style:{color:"#00CCBC"},onClick:function(){e.addTip("minus")}}),r.a.createElement(w.a,{icon:"plus-circle",style:{color:"#00CCBC"},onClick:function(){e.addTip("plus")}}),this.state.tips.toFixed(2),"\u20ac")),r.a.createElement("div",{className:"text",style:{fontWeight:"600"}},r.a.createElement("span",null,"Total"),r.a.createElement("span",null,(this.state.delivery+this.state.tips+this.props.total).toFixed(2),"\u20ac")))))}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderBasket())}}]),t}(r.a.Component),q=a(40),I=a.n(q),B=a(41),D=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={section:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"menuSection"},r.a.createElement("ul",{className:"menu"},this.props.sections.map(function(t,a){if(e.props.info[t].length>0)return r.a.createElement(B.Link,{activeClass:"active",to:t,spy:!0,smooth:!0,offset:-70,duration:500,className:"link",key:a,onClick:function(){return I()(e.props.id,{offset:0,align:"top",duration:1500})}},t)})),r.a.createElement(S,{basket:this.props.basket,total:this.props.total,handleClick:this.props.handleClick}))}}]),t}(r.a.Component),F=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={restaurant:{},menu:{},basket:[],total:0},a.handleClick=function(){var e=Object(u.a)(l.a.mark(function e(t,n){var r,i,s,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(o.a)(a.state.basket),i=r.filter(function(e){return e.name===n}),s=r.indexOf(i[0]),"plus"===t?r[s].quantity=i[0].quantity+1:(r[s].quantity=i[0].quantity-1,0===r[s].quantity&&r.splice(s,1)),c=0,r.forEach(function(e){return c+=e.price*e.quantity}),e.next=8,a.setState({basket:r,total:c});case 8:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a.addItem=function(){var e=Object(u.a)(l.a.mark(function e(t){var n,r,i,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(o.a)(a.state.basket),r=n.filter(function(e){return e.name===t.name}),i=n.indexOf(r[0]),r.length>0?n[i].quantity=r[0].quantity+1:n.push({name:t.name,quantity:1,price:Number(t.price),id:t.id}),s=0,n.forEach(function(e){return s+=e.price*e.quantity}),e.next=8,a.setState({basket:n,total:s});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("https://deliveroo-api.now.sh/menu");case 2:return t=e.sent,e.next=5,this.setState(t.data);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{restaurant:this.state.restaurant}),r.a.createElement(D,{sections:Object.keys(this.state.menu),info:this.state.menu,basket:this.state.basket,total:this.state.total,handleClick:this.handleClick}),r.a.createElement("ul",null,Object.keys(this.state.menu).map(function(t,a){if(e.state.menu[t].length>0)return r.a.createElement(x,{key:a,name:t,id:t,info:e.state.menu[t],addItem:e.addItem,basket:e.state.basket})})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},42:function(e,t,a){e.exports=a(102)},47:function(e,t,a){},50:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){}},[[42,1,2]]]);
//# sourceMappingURL=main.1258fe1b.chunk.js.map